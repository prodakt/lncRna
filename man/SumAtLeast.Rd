% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sumAtLeast.R
\name{sumAtLeast}
\alias{sumAtLeast}
\title{Summarize Agreement Among Selected Coding Potential Tools}
\usage{
sumAtLeast(sumSingleToolsList, tools = NULL)
}
\arguments{
\item{sumSingleToolsList}{A list generated by a precursor function, containing
at least \verb{$seqIDs} and \verb{$tools} (a named list of 0/1 prediction vectors).}

\item{tools}{An optional character vector of tool names to analyze. If \code{NULL}
(default) and the session is interactive, the user is prompted to select
tools. In a non-interactive session, \code{NULL} results in all tools being used.}
}
\value{
A list containing:
\item{seqIDs}{Original sequence identifiers.}
\item{isNC}{Original numeric indicator (if present).}
\item{type}{Original type annotation (if present).}
\item{selectedToolsPredictions}{A sublist of prediction vectors for the
selected tools.}
\item{sumsSelectedTools}{A numeric vector with the count of selected tools
predicting non-coding for each sequence.}
\item{atLeastN}{A list where each element \verb{atl\{n\}} is a numeric vector
(0/1) indicating prediction by at least \code{n} tools.}
Returns \code{NULL} if validation fails or no tools are selected.
}
\description{
Calculates indicators for sequences predicted as non-coding by at least 'n'
selected tools. Also includes the sum of positive predictions.
}
\examples{
# --- 1. Create Example Data ---
set.seed(456)
nSeqExample <- 60
exampleInputList <- list(
  seqIDs = paste0("ID", seq_len(nSeqExample)),
  tools = list(
    ToolA = sample(c(0, 1), nSeqExample, replace = TRUE, prob = c(0.6, 0.4)),
    ToolB = sample(c(0, 1), nSeqExample, replace = TRUE, prob = c(0.4, 0.6)),
    ToolC = sample(c(0, 1), nSeqExample, replace = TRUE, prob = c(0.7, 0.3))
  ),
  type = sample(c("nc", "cds"), nSeqExample, replace = TRUE)
)
exampleInputList$isNC <- ifelse(exampleInputList$type == "nc", 1, 0)

# --- 2. Run Non-interactive Examples ---

# Example 2a: Analyze specific tools
selectedToolNames <- c("ToolA", "ToolB")
resultsSpecific <- sumAtLeast(
  sumSingleToolsList = exampleInputList,
  tools = selectedToolNames
)
if (!is.null(resultsSpecific)) {
  print("Results for ToolA and ToolB:")
  print(head(resultsSpecific$sumsSelectedTools))
  print(head(resultsSpecific$atLeastN$atl2))
}

# Example 2b: Analyze all tools (by passing tools = NULL)
resultsAll <- sumAtLeast(sumSingleToolsList = exampleInputList)
if (!is.null(resultsAll)) {
  print("Results for all tools:")
  print(head(resultsAll$sumsSelectedTools))
  print(head(resultsAll$atLeastN$atl3))
}

# --- 3. Interactive Example ---
# This block will only run if the session is interactive.
if (interactive()) {
  message("Running interactive example. You will be prompted for selection.")
  resultsInteractive <- sumAtLeast(sumSingleToolsList = exampleInputList)
}
}
\keyword{agreement}
\keyword{coding}
\keyword{consensus}
\keyword{lncRNA}
\keyword{potential}
\keyword{summary}
